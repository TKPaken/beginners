---
layout: page
title: Others
permalink: /others/lecture1
mathjax: true
---

# 7/1 補助資料

「すごく教育的だけど典型過ぎてコンテストには出せない問題」コーナーの
補助資料です。
適宜見るようにして下さい。

配信での話を聞けなかった人もなんとなく分かるようにはしようと思います。

## 問題

$$N$$ 以下の数で、$$A_1 , A_2 \cdots A_M$$ のどれでも割り切れない数はいくつありますか？

$$1 \leq N \leq 10^{12}$$<br>
$$1 \leq M \leq 20$$<br>
$$1 \leq A_i \leq 10^{12}$$<br>

## 要点

問題を解く上で必要な知識を挙げます。

### GCD・LCM

ユークリッドの互除法を用いることで $$O(log N)$$ で求める事ができます。

詳細は[けんちょん氏の記事](https://qiita.com/drken/items/b97ff231e43bce50199a)を参照して下さい。

C++17からは、標準ライブラリに実装されているので自分で実装しなくても良くなっています。

(実装例)

```cpp
//C++14
long long gcd(long long x,long long y){
	if(y==0)return x;
	return gcd(y,x%y);
}
long long lcm(long long x,long long y){
	return x/gcd(x,y)*y;
}
```

### bit全探索

bit全探索は、ある集合の部分集合を全て調べ上げるアルゴリズムの事です。

詳細は[けんちょん氏の記事](https://qiita.com/drken/items/7c6ff2aa4d8fce1c9361)を参照して下さい。

### 包除原理

詳細は[高校数学の美しい物語の記事](https://mathtrain.jp/hojo)を参照して下さい。

要は、<br>$$N$$ 個の条件のいずれかを満たす<br> $$=1$$ 個以上満たす
<br>$$-2$$ 個以上満たす
<br>$$+3$$ 個以上満たす
...

って事です。いずれも満たさないのは、この補集合です。

例
<br>$$100$$ 以下で $$2$$ または $$3$$ または $$5$$ で割り切れる数の個数
<br>$$=2$$ で割り切れる個数 $$+3$$ で割り切れる個数 $$+5$$ で割り切れる個数
<br>$$-2$$ と $$3$$ で割り切れる個数 $$-2$$ と $$5$$ で割り切れる個数 $$-3$$ と $$5$$ で割り切れ得る個数
<br>$$+2$$ と $$3$$ と $$5$$ で割り切れる個数
<br>これを実装する時は、$$2,3,5$$ がそれぞれ含まれるかをbitで管理すると良いでしょう。

さて、ここまで挙げると何をすれば良いか分かったでしょうか？

実装上の注意として、単純に計算するとLCMの値がオーバーフローする事があります。

LCMの値が $$N$$ を超えていた場合、明らかに無視して良い事を考えて工夫しましょう。